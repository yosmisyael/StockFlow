<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.*?>

<BorderPane styleClass="root" stylesheets="@../assets/app.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.oop.stockflow.controller.WarehouseController">

    <!-- Top Navigation Bar -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" styleClass="navbar">
            <padding>
                <Insets bottom="16" left="24" right="24" top="16" />
            </padding>

            <!-- Logo Section -->
            <HBox alignment="CENTER_LEFT" spacing="12" HBox.hgrow="NEVER">
                <Group>
                    <SVGPath content="M30 0C34.4183 0 38 3.58172 38 8V32C38 36.4183 34.4183 40 30 40H8C3.58172 40 0 36.4183 0 32V8C0 3.58172 3.58172 0 8 0H30Z" fill="#2563EB" scaleX="1.3" scaleY="1.3" />

                    <!-- Border -->
                    <SVGPath content="M30 0C34.4183 0 38 3.58172 38 8V32C38 36.4183 34.4183 40 30 40H8C3.58172 40 0 36.4183 0 32V8C0 3.58172 3.58172 0 8 0H30Z" fill="transparent" scaleX="1.3" scaleY="1.3" stroke="#E5E7EB" />

                    <!-- Inner rectangle -->
                    <SVGPath content="M30.25 34H7.75V6H30.25V34Z" fill="transparent" scaleX="1.3" scaleY="1.3" stroke="#E5E7EB" />

                    <!-- White inner icon -->
                    <SVGPath content="M7.75 27.4063V16.2723C7.75 15.3512 8.30898 14.525 9.16328 14.184L18.5816 10.4188C18.8488 10.3098 19.1477 10.3098 19.4184 10.4188L28.8367 14.184C29.691 14.525 30.25 15.3547 30.25 16.2723V27.4063C30.25 27.8739 29.8738 28.25 29.4062 28.25H27.7188C27.2512 28.25 26.875 27.8739 26.875 27.4063V18.125C26.875 17.5028 26.3723 17 25.75 17H12.25C11.6277 17 11.125 17.5028 11.125 18.125V27.4063C11.125 27.8739 10.7488 28.25 10.2812 28.25H8.59375C8.12617 28.25 7.75 27.8739 7.75 27.4063ZM24.9062 28.25H13.0938C12.6262 28.25 12.25 27.8739 12.25 27.4063V25.4375H25.75V27.4063C25.75 27.8739 25.3738 28.25 24.9062 28.25ZM12.25 24.3125V22.0625H25.75V24.3125H12.25ZM12.25 20.9375V18.125H25.75V20.9375H12.25Z" fill="white" scaleX="1.3" scaleY="1.3" />
                </Group>
                <VBox>
                    <Label styleClass="app-title" text="StockFlow">
                        <font>
                            <Font name="System Bold" size="20.0" />
                        </font>
                    </Label>
                    <Label styleClass="app-subtitle" text="Warehouse Management">
                        <font>
                            <Font size="16.0" />
                        </font>
                    </Label>
                </VBox>
            </HBox>

            <!-- Spacer -->
            <Region HBox.hgrow="ALWAYS" />

            <!-- Add Warehouse Button -->
            <Button styleClass="add-button" text="+ Add Warehouse" onAction="#goToAddWarehouse">
                <font>
                    <Font name="System Bold" size="16.0" />
                </font>
            </Button>
        </HBox>
    </top>

    <!-- Sidebar -->
    <left>
        <VBox minWidth="200" prefWidth="200" spacing="8" styleClass="sidebar">
            <padding>
                <Insets bottom="20" left="12" right="12" top="20" />
            </padding>

            <!-- User Profile -->
            <HBox alignment="CENTER_LEFT" spacing="12" styleClass="user-profile">
                <padding>
                    <Insets bottom="12" left="12" right="12" top="12" />
                </padding>
                <Label styleClass="user-icon" text="👤">
                    <font>
                        <Font size="24" />
                    </font>
                </Label>
                <VBox>
                    <Label styleClass="user-name" text="Yanto">
                        <font>
                            <Font name="System Bold" size="16.0" />
                        </font>
                    </Label>
                    <Label style="-fx-background-radius: 24;" styleClass="user-role" text="Manager">
                        <font>
                            <Font size="13.0" />
                        </font>
                    </Label>
                </VBox>
            </HBox>

            <!-- Spacer to push logout to bottom -->
            <Region VBox.vgrow="ALWAYS" />

            <!-- Logout Button -->
            <Button alignment="CENTER_LEFT" maxWidth="Infinity" styleClass="logout-button" text="⎋ Logout">
                <padding>
                    <Insets bottom="12" left="12" right="12" top="12" />
                </padding>
            </Button>
        </VBox>
    </left>

    <!-- Main Content -->
    <center>
        <ScrollPane fitToHeight="true" fitToWidth="true" styleClass="content-scroll">
            <VBox spacing="24" styleClass="main-content">
                <padding>
                    <Insets bottom="32" left="32" right="32" top="32" />
                </padding>

                <!-- Header Section -->
                <VBox spacing="8">
                    <Label styleClass="page-title" text="Warehouse Dashboard">
                        <font>
                            <Font name="System Bold" size="28.0" />
                        </font>
                    </Label>
                    <Label styleClass="page-subtitle" text="Manage and monitor your warehouse locations">
                        <font>
                            <Font size="16.0" />
                        </font>
                    </Label>
                </VBox>

                <!-- Stats Cards Grid -->
                <GridPane hgap="20" styleClass="stats-grid" vgap="20">
                    <columnConstraints>
                        <ColumnConstraints hgrow="ALWAYS" />
                        <ColumnConstraints hgrow="ALWAYS" />
                        <ColumnConstraints hgrow="ALWAYS" />
                        <ColumnConstraints hgrow="ALWAYS" />
                    </columnConstraints>

                    <!-- Total Warehouses -->
                    <HBox alignment="CENTER_LEFT" spacing="16" styleClass="stat-card" GridPane.columnIndex="0">
                        <padding>
                            <Insets bottom="20" left="20" right="20" top="20" />
                        </padding>
                        <VBox spacing="4" HBox.hgrow="ALWAYS">
                            <Label styleClass="stat-label" text="Total Warehouses">
                                <font>
                                    <Font size="16.0" />
                                </font>
                            </Label>
                            <Label styleClass="stat-value" text="8">
                                <font>
                                    <Font name="System Bold" size="32.0" />
                                </font>
                            </Label>
                        </VBox>
                        <Label scaleX="1.15" styleClass="stat-icon-blue" text="🏢">
                            <font>
                                <Font size="28" />
                            </font>
                        </Label>
                    </HBox>

                    <!-- Total Staff -->
                    <HBox alignment="CENTER_LEFT" spacing="16" styleClass="stat-card" GridPane.columnIndex="1">
                        <padding>
                            <Insets bottom="20" left="20" right="20" top="20" />
                        </padding>
                        <VBox spacing="4" HBox.hgrow="ALWAYS">
                            <Label styleClass="stat-label" text="Total Staff">
                                <font>
                                    <Font size="16.0" />
                                </font>
                            </Label>
                            <Label styleClass="stat-value" text="142">
                                <font>
                                    <Font name="System Bold" size="32.0" />
                                </font>
                            </Label>
                        </VBox>
                        <Label scaleX="1.15" styleClass="stat-icon-green" text="👥">
                            <font>
                                <Font size="28" />
                            </font>
                        </Label>
                    </HBox>

                    <!-- Total Stock -->
                    <HBox alignment="CENTER_LEFT" spacing="16" styleClass="stat-card" GridPane.columnIndex="2">
                        <padding>
                            <Insets bottom="20" left="20" right="20" top="20" />
                        </padding>
                        <VBox spacing="4" HBox.hgrow="ALWAYS">
                            <Label styleClass="stat-label" text="Total Stock">
                                <font>
                                    <Font size="16.0" />
                                </font>
                            </Label>
                            <Label styleClass="stat-value" text="24,567">
                                <font>
                                    <Font name="System Bold" size="32.0" />
                                </font>
                            </Label>
                        </VBox>
                        <Label scaleX="1.15" styleClass="stat-icon-orange" text="📊">
                            <font>
                                <Font size="28" />
                            </font>
                        </Label>
                    </HBox>

                    <!-- Active Locations -->
                    <HBox alignment="CENTER_LEFT" spacing="16" styleClass="stat-card" GridPane.columnIndex="3">
                        <padding>
                            <Insets bottom="20" left="20" right="20" top="20" />
                        </padding>
                        <VBox spacing="4" HBox.hgrow="ALWAYS">
                            <Label styleClass="stat-label" text="Active Locations">
                                <font>
                                    <Font size="16.0" />
                                </font>
                            </Label>
                            <Label styleClass="stat-value" text="7">
                                <font>
                                    <Font name="System Bold" size="32.0" />
                                </font>
                            </Label>
                        </VBox>
                        <Label scaleX="1.15" styleClass="stat-icon-purple" text="📍">
                            <font>
                                <Font size="28" />
                            </font>
                        </Label>
                    </HBox>
                    <rowConstraints>
                        <RowConstraints />
                    </rowConstraints>
                </GridPane>

                <!-- Warehouse Cards Grid -->
                <GridPane hgap="20" styleClass="warehouse-grid" vgap="20" fx:id="warehouseContainer">
                    <columnConstraints>
                        <ColumnConstraints hgrow="ALWAYS" />
                        <ColumnConstraints hgrow="ALWAYS" />
                        <ColumnConstraints hgrow="ALWAYS" />
                        <ColumnConstraints hgrow="ALWAYS" />
                    </columnConstraints>

                    <!-- here is each warehouse card should be rendered -->
                    <VBox spacing="20" styleClass="warehouse-card" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <padding>
                            <Insets bottom="24" left="24" right="24" top="24" />
                        </padding>
                        <HBox alignment="CENTER_LEFT" fillHeight="false" prefHeight="12.0" prefWidth="252.0" VBox.vgrow="NEVER">
                            <VBox prefHeight="200.0" prefWidth="100.0" spacing="4.0" HBox.hgrow="ALWAYS">
                                <HBox prefHeight="100.0" prefWidth="200.0" spacing="10.0" VBox.vgrow="NEVER">
                                    <Label alignment="CENTER" style="-fx-background-radius: 10;" styleClass="warehouse-icon-blue" text="JC" textOverrun="CLIP">
                                        <font>
                                            <Font name="System Bold" size="30.0" />
                                        </font>
                                        <padding>
                                            <Insets left="8.0" right="8.0" />
                                        </padding>
                                    </Label>
                                    <VBox spacing="2" HBox.hgrow="ALWAYS">
                                        <Label styleClass="warehouse-name" text="Jakarta Central">
                                            <font>
                                                <Font name="System Bold" size="20.0" />
                                            </font>
                                        </Label>
                                        <Label styleClass="warehouse-address" text="Jl. Sudirman No. 123">
                                            <font>
                                                <Font size="16.0" />
                                            </font>
                                        </Label>
                                    </VBox>
                                </HBox>
                                <Label style="-fx-background-radius: 32; -fx-font-size: 12;" styleClass="status-badge-active" text="Active">
                                    <padding>
                                        <Insets bottom="4" left="12" right="12" top="4" />
                                    </padding>
                                    <font>
                                        <Font size="1.0" />
                                    </font>
                                    <VBox.margin>
                                        <Insets left="60.0" />
                                    </VBox.margin>
                                </Label>
                            </VBox>
                        </HBox>
                        <HBox alignment="CENTER" spacing="40">
                            <VBox alignment="CENTER" spacing="4" HBox.hgrow="ALWAYS">
                                <Label styleClass="warehouse-stat-value" text="24">
                                    <font>
                                        <Font name="System Bold" size="28.0" />
                                    </font>
                                </Label>
                                <Label styleClass="warehouse-stat-label" text="Staff">
                                    <font>
                                        <Font size="12" />
                                    </font>
                                </Label>
                            </VBox>
                            <VBox alignment="CENTER" spacing="4" HBox.hgrow="ALWAYS">
                                <Label styleClass="warehouse-stat-value" text="4,523">
                                    <font>
                                        <Font name="System Bold" size="28.0" />
                                    </font>
                                </Label>
                                <Label styleClass="warehouse-stat-label" text="Stock Items">
                                    <font>
                                        <Font size="12" />
                                    </font>
                                </Label>
                            </VBox>
                        </HBox>
                        <Button maxWidth="Infinity" styleClass="view-details-button" text="View Details">
                            <font>
                                <Font name="System Bold" size="16.0" />
                            </font>
                        </Button>
                    </VBox>

                    <rowConstraints>
                        <RowConstraints />
                        <RowConstraints />
                    </rowConstraints>
                </GridPane>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>
