<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.Group?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.SVGPath?>
<?import javafx.scene.text.Font?>

<BorderPane styleClass="root" stylesheets="@../assets/utils.css, @../assets/sidebar.css, @../assets/topbar.css, @../assets/staff-create.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.oop.stockflow.controller.StaffCreateController">

    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" styleClass="navbar">
            <padding>
                <Insets bottom="16" left="24" right="24" top="16" />
            </padding>
            <HBox alignment="CENTER_LEFT" spacing="12" HBox.hgrow="NEVER">
                <Group>
                    <SVGPath content="M30 0C34.4183 0 38 3.58172 38 8V32C38 36.4183 34.4183 40 30 40H8C3.58172 40 0 36.4183 0 32V8C0 3.58172 3.58172 0 8 0H30Z" fill="#2563EB" scaleX="1.3" scaleY="1.3" />
                    <SVGPath content="M30 0C34.4183 0 38 3.58172 38 8V32C38 36.4183 34.4183 40 30 40H8C3.58172 40 0 36.4183 0 32V8C0 3.58172 3.58172 0 8 0H30Z" fill="transparent" scaleX="1.3" scaleY="1.3" stroke="#E5E7EB" />
                    <SVGPath content="M30.25 34H7.75V6H30.25V34Z" fill="transparent" scaleX="1.3" scaleY="1.3" stroke="#E5E7EB" />
                    <SVGPath content="M7.75 27.4063V16.2723C7.75 15.3512 8.30898 14.525 9.16328 14.184L18.5816 10.4188C18.8488 10.3098 19.1477 10.3098 19.4184 10.4188L28.8367 14.184C29.691 14.525 30.25 15.3547 30.25 16.2723V27.4063C30.25 27.8739 29.8738 28.25 29.4062 28.25H27.7188C27.2512 28.25 26.875 27.8739 26.875 27.4063V18.125C26.875 17.5028 26.3723 17 25.75 17H12.25C11.6277 17 11.125 17.5028 11.125 18.125V27.4063C11.125 27.8739 10.7488 28.25 10.2812 28.25H8.59375C8.12617 28.25 7.75 27.8739 7.75 27.4063ZM24.9062 28.25H13.0938C12.6262 28.25 12.25 27.8739 12.25 27.4063V25.4375H25.75V27.4063C25.75 27.8739 25.3738 28.25 24.9062 28.25ZM12.25 24.3125V22.0625H25.75V24.3125H12.25ZM12.25 20.9375V18.125H25.75V20.9375H12.25Z" fill="white" scaleX="1.3" scaleY="1.3" />
                </Group>
                <VBox>
                    <Label styleClass="app-title" text="StockFlow" />
                    <Label styleClass="app-subtitle" text="Warehouse Management" />
                </VBox>
            </HBox>
            <Region HBox.hgrow="ALWAYS" />
            <StackPane styleClass="notification-bell">
                <Label styleClass="bell-icon" text="ðŸ””" />
                <Label styleClass="notification-badge" text="3">
                    <StackPane.margin>
                        <Insets right="-8" top="-8" />
                    </StackPane.margin>
                </Label>
            </StackPane>
            <Label styleClass="date-label" text="Today: Dec 15, 2024" />
        </HBox>
    </top>

    <left>
        <VBox minWidth="200" prefWidth="200" spacing="8" styleClass="sidebar">
            <padding>
                <Insets bottom="20" left="12" right="12" top="20" />
            </padding>

            <!-- User Profile -->
            <HBox alignment="CENTER_LEFT" spacing="12" styleClass="user-profile">
                <padding>
                    <Insets bottom="12" left="12" right="12" top="12" />
                </padding>
                <Label styleClass="user-icon" text="ðŸ‘¤">
                    <font>
                        <Font size="24" />
                    </font>
                </Label>
                <VBox>
                    <Label fx:id="userNameLabel" styleClass="user-name" text="Yanto">
                        <font>
                            <Font name="System Bold" size="16.0" />
                        </font>
                    </Label>
                    <Label fx:id="userRole" style="-fx-background-radius: 24;" styleClass="user-role" text="Manager">
                        <font>
                            <Font size="13.0" />
                        </font>
                    </Label>
                </VBox>
            </HBox>

            <!-- Navigation Menu -->
            <VBox spacing="4" VBox.vgrow="NEVER">
                <padding>
                    <Insets top="12" />
                </padding>

                <!-- Dashboard -->
                <Button alignment="CENTER_LEFT" maxWidth="Infinity" onAction="#goToDashboard" styleClass="nav-button" text="ðŸ“Š  Dashboard">
                    <padding>
                        <Insets bottom="12" left="16" right="12" top="12" />
                    </padding>
                    <font>
                        <Font size="14" />
                    </font>
                </Button>

                <!-- Stock Management -->
                <Button alignment="CENTER_LEFT" maxWidth="Infinity" styleClass="nav-button" text="ðŸ“¦  Stock Management" onAction="#goToProductIndex">
                    <padding>
                        <Insets bottom="12" left="16" right="12" top="12" />
                    </padding>
                    <font>
                        <Font size="14" />
                    </font>
                </Button>

                <!-- Staff Management -->
                <Button alignment="CENTER_LEFT" maxWidth="Infinity" styleClass="nav-button, nav-button-active" text="ðŸ‘¥  Staff Management">
                    <padding>
                        <Insets bottom="12" left="16" right="12" top="12" />
                    </padding>
                    <font>
                        <Font size="14" />
                    </font>
                </Button>
            </VBox>

            <!-- Spacer -->
            <Region VBox.vgrow="ALWAYS" />

            <!-- Logout Button -->
            <Button alignment="CENTER_LEFT" maxWidth="Infinity" styleClass="logout-button" text="âŽ‹ Logout">
                <padding>
                    <Insets bottom="12" left="12" right="12" top="12" />
                </padding>
            </Button>
        </VBox>
    </left>

    <center>
        <ScrollPane fitToHeight="true" fitToWidth="true" styleClass="content-scroll">
            <VBox spacing="24" styleClass="main-content">
                <padding>
                    <Insets bottom="32" left="32" right="32" top="32" />
                </padding>

                <VBox spacing="12">

                    <HBox fillHeight="false" nodeOrientation="LEFT_TO_RIGHT" spacing="8.0" style="-fx-padding: 4 0;" styleClass="breadcrumbs">
                        <Label styleClass="breadcrumb-item" text="Staff Management" />
                        <Label styleClass="breadcrumb-separator" text="â€º" />
                        <Label styleClass="breadcrumb-item, breadcrumb-active" text="Add Staff" />
                    </HBox>
                    <VBox spacing="4">
                        <Label style="-fx-font-size: 28; -fx-font-weight: bold;" styleClass="page-title" text="Staff Management">
                     <font>
                        <Font name="System Bold" size="28.0" />
                     </font></Label>
                        <Label style="-fx-font-size: 14;" styleClass="page-subtitle" text="Manage staff accounts and permissions">
                     <font>
                        <Font size="18.0" />
                     </font></Label>
                    </VBox>
                </VBox>

                <VBox maxWidth="800" spacing="24" styleClass="form-card">
                    <padding>
                        <Insets bottom="32" left="32" right="32" top="32" />
                    </padding>

                    <VBox spacing="4">
                        <Label styleClass="form-title" text="Add New Staff Account" />
                        <Label styleClass="form-subtitle" text="Create a new staff account with basic information and login credentials." />
                    </VBox>

                    <VBox spacing="6">
                        <Label styleClass="form-label" text="Full Name" />
                        <HBox alignment="CENTER_LEFT" spacing="12" styleClass="input-field-container">
                            <padding>
                                <Insets bottom="8" left="12" right="12" top="8" />
                            </padding>
                            <TextField fx:id="nameField" promptText="Enter staff full name" styleClass="input-field" HBox.hgrow="ALWAYS" />
                        </HBox>
                    </VBox>

                    <VBox spacing="6">
                        <Label styleClass="form-label" text="Email" />
                        <HBox alignment="CENTER_LEFT" spacing="12" styleClass="input-field-container">
                            <padding>
                                <Insets bottom="8" left="12" right="12" top="8" />
                            </padding>
<!--                            <Label styleClass="input-field-icon" text="@" />-->
                            <TextField fx:id="emailField" promptText="Enter email" styleClass="input-field" HBox.hgrow="ALWAYS" />
                        </HBox>
                        <Label styleClass="form-hint" text="Username must be unique and contain only letters, numbers, and underscores." />
                    </VBox>

                    <VBox spacing="6">
                        <Label styleClass="form-label" text="Password*" />
                        <HBox alignment="CENTER_LEFT" spacing="12" styleClass="input-field-container">
                            <padding>
                                <Insets bottom="8" left="12" right="12" top="8" />
                            </padding>
<!--                            <Label styleClass="input-field-icon" text="ðŸ”’" />-->
                            <PasswordField fx:id="passwordField" promptText="Enter password" styleClass="input-field" HBox.hgrow="ALWAYS" />
                            <Label styleClass="input-field-icon, password-toggle" text="ðŸ‘" />
                        </HBox>
                        <Label styleClass="form-hint" text="Password must be at least 8 characters long and contain letters and numbers." />
                    </VBox>

                    <HBox alignment="CENTER_RIGHT" spacing="12">
                        <Button onAction="#handleCancel" styleClass="button-secondary" text="Cancel" />
                        <Button onAction="#handleCreateStaff" styleClass="button-primary" text="Create Staff Account" />
                    </HBox>
                </VBox>

                <VBox spacing="12" style="-fx-border-radius: 8px; -fx-background-radius: 8px;" styleClass="tips-box">
                    <padding>
                        <Insets bottom="20" left="20" right="20" top="20" />
                    </padding>
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <Label styleClass="tips-icon" text="ðŸ’¡" textFill="#2563eb" />
                        <Label styleClass="tips-title" text="Tips for Creating Staff Accounts" />
                    </HBox>
                    <VBox spacing="6">
                        <padding>
                            <Insets left="32" />
                        </padding>
                        <Label styleClass="tips-list-item" text="â€¢ Use clear, professional usernames that are easy to remember" />
                        <Label styleClass="tips-list-item" text="â€¢ Ensure passwords meet security requirements" />
                    </VBox>
                </VBox>
            </VBox>
         <padding>
            <Insets bottom="30.0" />
         </padding>
        </ScrollPane>
    </center>
</BorderPane>
